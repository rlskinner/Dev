#!smake
#
# Makefile for application
# Generated by RapidApp 1.1
#
# This makefile follows various conventions used by SGI makefiles
# See the RapidApp User's Guide for more information
#
include $(ROOT)/usr/include/make/commondefs
#
# Local Definitions
#

# Directory in which inst images are placed

IMAGEDIR= images


#  The GL library being used, if needed

GLLIBS=
COMPONENTLIBS= 


#
# The ViewKit stub help library (-lvkhelp) provides a simple 
# implementation of the SGI help API. Changing this to -lhelpmsg
# switches to the full IRIS Insight help system
#

HELPLIB= -lvkhelp

# Standard ViewKit header and libraries

VIEWKITFLAGS= -I$(ROOT)/usr/include/Vk
TOOLTALKLIBS=
NETLS=

EZLIB = -lvkEZ
VIEWKITLIBS= $(TOOLTALKLIBS) $(EZLIB) -lvk $(HELPLIB) $(NETLS) -lSgm -lXpm

# Local C++ options.
# woff 3262 shuts off warnings about arguments that are declared
# but not referenced.

WOFF= -woff 3262

LCXXOPTS = -nostdinc -I$(ROOT)/usr/include $(SAFLAG) $(WOFF) $(VIEWKITFLAGS) 

# Add Additional libraries to USERLIBS:

USERLIBS= 

LLDLIBS =  -L$(ROOT)/usr/lib $(USERLIBS) $(COMPONENTLIBS) $(VIEWKITLIBS) $(GLLIBS) -lXm -lXt -lX11 -lgen 

# While developing, leave OPTIMIZER set to -g.
# For delivery, change to -O2

OPTIMIZER= -g

# SGI makefiles don't recognize all C++ sufixes, so set up
# the one being used here.

CXXO3=$(CXXO2:.C=.o)
CXXOALL=$(CXXO3)

#
# Source Files generated by the builder. If files are added
# manually, add them to USERFILES
#

BUILDERFILES =  main.C\
		BulletinBoard.C\
		BulletinBoardUI.C\
		VkwindowMainWindow.C\
		unimplemented.C\
		$(NULL)

#
# Add any files added outside the builder here
#

USERFILES = 

C++FILES = $(BUILDERFILES) $(USERFILES)


#
# The program being built
#

TARGETS=application
APPDEFAULTS=Application
default all: $(TARGETS)


$(TARGETS): $(OBJECTS)
	$(C++) $(OPTIMIZER) $(OBJECTS) $(LDFLAGS) -o $@
#
# These flags instruct the compiler to output
# analysis information for cvstatic
# Uncoment to enable
# Be sure to also disable smake if cvstatic is used

#SADIR= raTiled.cvdb
#SAFLAG= -sa,$(SADIR)
#$(OBJECTS):$(SADIR)/cvdb.dbd
#$(SADIR)/cvdb.dbd :
#	[ -d $(SADIR) ] || mkdir $(SADIR)
#	cd $(SADIR); initcvdb.sh

#LDIRT=$(SADIR) vista.taf


#
# To install on the local machine, do 'make install'
#

install: all
	$(INSTALL) -F /usr/lib/X11/app-defaults Application
	$(INSTALL) -F /usr/sbin application
	$(INSTALL) -F /usr/lib/images Application.icon

#
# To create inst images, do 'make image'
# An image subdirectory should already exist
#

$(IMAGEDIR):
	@mkdir $(IMAGEDIR)
image: $(TARGETS) $(IMAGEDIR)
	/usr/sbin/gendist -rbase / -sbase / -idb application.idb \
         -spec application.spec \
        -dist /usr/people/robert/fun/torus/raTiled/images  -all

include $(COMMONRULES)
